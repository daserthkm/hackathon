extends layout

block scripts
    script.
      socket.on('chats.new_message', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').text(data.user_id))
        rowDiv.append($('<span>').text(data.room_id))
        rowDiv.append($('<span>').html(data.message))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(data.millisecond))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('chats.cleared', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(data.room_id))
        rowDiv.append($('<span>').html('Room cleared'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('rooms.user_joined', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').text(data.user_id))
        rowDiv.append($('<span>').text(data.room_id))
        rowDiv.append($('<span>').html('User joined the room'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('rooms.user_left', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').text(data.user_id))
        rowDiv.append($('<span>').text(data.room_id))
        rowDiv.append($('<span>').html('User left the room'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('messages.liked', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').text(data.user_id))
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').html('Message #' + data.message_id + ' liked'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('messages.like_revoked', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').text(data.user_id))
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').html('Message #' + data.message_id + ' like revoked'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('rooms.created', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').html('Room "' + data.name + '" created'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('rooms.changed', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').html('Room "' + data.name + '" changed'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });
    script.
      socket.on('rooms.deleted', function (data) {
        var rowDiv = $('<div>')
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(''))
        rowDiv.append($('<span>').text(data.id))
        rowDiv.append($('<span>').html('Room "' + data.name + '" deleted'))
        rowDiv.append($('<span>').text(data.create_date))
        rowDiv.append($('<span>').text(''))
        $('#log').append(rowDiv)
      });

block content
    h1= title
    p Welcome to #{title}
    p This page is connected to the socket.io server. All events will show up in this table for debugging reasons.
    div#log
        div#log_head
            span ID
            span UserID
            span RoomID
            span.message Message
            span.date CreateDate
            span Millisecond
